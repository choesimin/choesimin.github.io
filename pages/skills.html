---
layout: none
permalink: /
---

<!DOCTYPE html>
<html lang="ko">
  <head>
    {% include google-analytics.html %}
    <title>SIMIN</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="시민의 지식 저장소" />
    <link rel="canonical" href="{{ site.url }}{{ page.url }}" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/simple-jekyll-search/1.9.2/simple-jekyll-search.min.js" integrity="sha512-gABzh+zgo1Eh5HMdD2IMOjeaQAjl9v/MrA3xbZnMTRR5wC4x3WxurJo6yg5EWj1zfNz0qoXK/rKVP5Are0E4QQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="{{ '/assets/js/typing-effect.js' | relative_url }}"></script>
    <link rel="stylesheet" href="{{ '/assets/css/skill.css' | relative_url }}" />
    <style>
      #simin {
        position: fixed;
        top: 8px;
        left: 8px;
        letter-spacing: -2px;
        font-size: 30px;
        font-weight: bold;
        text-decoration: none;
      }

      #brunch {
        position: fixed;
        top: 8px;
        right: 8px;
        font-size: 20px;
        font-weight: bold;
        text-decoration: none;
      }
      #insta {
        position: fixed;
        top: 30px;
        right: 8px;
        font-size: 20px;
        font-weight: bold;
        text-decoration: none;
      }

      #searchInput {
        flex: auto;
      }

      #searchInput h2 {
        display: inline-block;
        margin: 0;
        line-height: 1;
        vertical-align: middle;
      }

      #searchInput input {
        display: inline-block;
        margin-left: 10px;
        padding-left: 10px;
        width: 150px;
        background-color: var(--background-color);
        color: inherit;
        border: none;
        border-bottom: 1px solid var(--background-highlight-color);
        transition: 0.3s;
      }

      #searchInput input:focus {
        width: calc(100% - 300px);
        border-color: 1px solid var(--border-color);
      }

      #searchResult {
        background-color: var(--background-color);
      }

      #searchResult li {
        list-style: none;
      }

      #searchResult li a {
        text-decoration: none;
      }

      #skills a {
        text-decoration-line: none;
      }

      #skills ul {
        list-style: none;
        padding-left: 16px;
        margin-top: 0;
      }

      #skills ul sup {
        font-size: 10px;
        margin-left: 10px;
        opacity: 0.8;
      }

      /* 하위 목록 표시선 */
      #skills ul li {
        cursor: pointer; /* Add pointer cursor for clickable items */
        position: relative;
        margin-left: 10px;
      }

      /* Keep the vertical lines but remove horizontal lines */
      #skills ul li::before {
        content: "";
        position: absolute;
        left: -15px;
        top: 5px;
        height: 100%;
        width: 1px;
        background-color: var(--border-color);
      }

      #skills ul li:last-child::before {
        height: 20px;
      }

      /* 선택된 목록 강조 */
      #skills li:target > a,
      #skills li:target > ul > li > a {
        font-weight: bold;
        color: var(--highlight-color);
      }
      #skills li:target > ul > li::before,
      #skills li:target > ul > li::after {
        background-color: var(--highlight-color);
      }

      /* Graphic */
      #graphic {
          margin: 0;
          padding: 0;
          font-family: "Noto Sans KR", sans-serif;
          text-align: center;
      }
      #graphic a {
          display: block;
          text-decoration: none;
          color: inherit;
          padding: 20px;
          margin: 20px;
      }
      #graphic a:hover {
          background-color: black;
          color: white;
      }
      #graphic a p.date {
          font-size: 0.8rem;
          color: gray;
      }
    </style>
  </head>

  <body>
    <header>
      <a id="simin" href="{{ '/' | relative_url }}"></a>
      <a id="brunch" href="https://brunch.co.kr/@simin" target="_blank">brunchstory</a>
      <a id="insta" href="https://www.instagram.com/simin_sees" target="_blank">instagram</a>
    </header>
    <main>
      <section id="note">
        <div id="searchInput">
          <h2>Note</h2>
          <input type="text" placeholder="title, url, yyyy-mm-dd" />
        </div>
        <div id="searchResult"></div>
        <article id="skills"></article>
        <a href="{{ '/problems' | relative_url }}"><b>C++ 알고리즘 문제 풀이 모음</b></a>
      </section>
      <section id="graphic">
        <h2>Graphic</h2>
        {% for graphic in site.graphics %}
        <a href="{{ graphic.url | relative_url }}">
          <h2>{{ graphic.title }}</h2>
          <p>{{ graphic.description }}</p>
          <p class="date">{{ graphic.date | date: '%Y-%m-%d' }}</p>
        </a>
        {% endfor %}
      </section>

    </main>
    {% include skill-footer.html %}
    <script>
      SimpleJekyllSearch({
        searchInput: document.getElementById('searchInput'),
        resultsContainer: document.getElementById('searchResult'),
        json: '/assets/json/skill-search.json',
        searchResultTemplate: `<li><a href="{{ site.url }}{url}">{title}</a></li>`
      });


      var pages = getPages();
      var nodes = makeNodes(pages);
      var root = groupNodes(nodes);

      var list = document.createElement("ul");
      list.className = "root";
      
      if (root.children && root.children.length > 0) {
        for (var i = 0; i < root.children.length; i++) {
          makeList(root.children[i], list);
        }
      }
      
      document.getElementById("skills").appendChild(list);

      function makeList(node, list) {
        var listItem = document.createElement("li");

        var toggleIcon = document.createElement("span");
        toggleIcon.textContent = node.children ? "v" : "-";
        toggleIcon.style.marginRight = "5px";
        listItem.appendChild(toggleIcon);

        if (node.children != undefined) {
          var index = node.children.filter(child => child.isIndex)[0];
          node.children = node.children.filter(child => !child.isIndex);

          if (index != undefined) {
            listItem.id = index.category.join('-');

            var anchor = document.createElement("a");
            anchor.textContent = index.name;
            anchor.href = index.url;
            listItem.appendChild(anchor);

            var sup = document.createElement("sup");
            sup.textContent = index.date;
            listItem.appendChild(sup);
          } else {
            listItem.textContent = node.name;
            listItem.removeChild(listItem.childNodes[1]);
            listItem.appendChild(document.createTextNode(node.name));
          }

          // Calculate total count of all descendant documents
          var totalDescendants = countAllDescendants(node);
          
          var childCount = document.createElement("span");
          childCount.textContent = ` (${totalDescendants})`;
          childCount.style.marginLeft = "5px";
          childCount.style.color = "gray";
          listItem.appendChild(childCount);

          list.appendChild(listItem);

          if (node.children.length > 0) {
            var childList = document.createElement("ul");
            childList.style.display = "none";
            for (var i = 0; i < node.children.length; i++) {
              makeList(node.children[i], childList);
            }
            listItem.appendChild(childList);

            listItem.addEventListener("click", function (e) {
              e.stopPropagation();
              if (childList.style.display === "none") {
                childList.style.display = "block";
                toggleIcon.textContent = "-";
              } else {
                childList.style.display = "none";
                toggleIcon.textContent = "v";
              }
            });
          }
        } else {
          var anchor = document.createElement("a");
          anchor.textContent = node.name;
          anchor.href = node.url;
          listItem.appendChild(anchor);

          var sup = document.createElement("sup");
          sup.textContent = node.date;
          listItem.appendChild(sup);
          list.appendChild(listItem);
        }
      }

      // Add this new function to count all descendants
      function countAllDescendants(node) {
        if (!node.children) {
          return 1; // Leaf node counts as 1
        }
        
        let count = 0;
        for (let child of node.children) {
          if (child.children) {
            // For nodes with children, recursively count their descendants
            count += countAllDescendants(child);
          } else {
            // For leaf nodes, add 1
            count += 1;
          }
        }
        
        return count;
      }

      function groupNodes(nodes) {
        var root = { name: "root" };
        root.children = nodes;

        return groupNode(root);
      }

      function groupNode(node) {
        var categories = Array.from(new Set(node.children.filter(child => child.children != undefined).map(child => child.name)));

        for (var i = 0; i < categories.length; i++) {
          var category = categories[i];
          var groupedNode = {
            name: category,
            children: node.children.filter(child => child.name === category).map(child => child.children).flat(Infinity)
          };

          node.children = node.children.filter(child => child.name != category);
          node.children.push(groupedNode);

          if (groupedNode.children != undefined) {
            groupNode(groupedNode);
          }
        }

        return node;
      }


      function makeNodes(pages) {
        var nodes = pages.map(page => makeNode(page));
        return nodes;
      }

      function makeNode(page) {
        var leaf = {
          name: page.title,
          date: page.date,
          url: page.url,
          category: page.category,
          isIndex: page.name === "index"
        }
        return makeMultiDepthNode(page.category, leaf, 1);
      }

      function makeMultiDepthNode(category, child, indent) {
        var node = {
          name: category[category.length - indent],
          children: [child]
        };

        while (indent < category.length) {
          indent++;
          return makeMultiDepthNode(category, node, indent);
        }

        return node;
      }

      function getPages() {
        var pages = [];

        {% for skill in site.skills %}
        var path = "{{ skill.path }}".replace("_skills/", "").split("/");

        pages.push({
          category: path.slice(0, path.length - 1),
          name: path[path.length - 1].replace(".md", ""),
          title: "{{ skill.title }}",
          date: "{{ skill.date | date: '%Y-%m-%d' }}",
          url: "{{ skill.url | relative_url }}",
        });
        {% endfor %}

        return pages;
      }
    </script>
  </body>
</html>
