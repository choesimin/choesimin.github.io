---
published: false
---




# 계좌 이체 방식의 결제 수단 (`CMS`, `WBS`)

- CMS와 WBS는 계좌 간 금액을 이체하여 결제를 구현한 것임

- CMS와 WBS 모두 기업의 모계좌를 중심으로 결제가 이루어짐
    - 그러나 결제 방식의 이름은 고객의 계좌를 중심으로 지어짐
        - CMS = 출금 이체 = 고객의 계좌로부터 출금됨
        - WBS = 입금 이체 = 고객의 계좌에 입금됨

| 계좌 이체 종류 | 돈의 흐름 | 거래 |
| --- | --- | --- |
| **출금 이체** (CMS) | 고객 계좌 -> 모계좌 | 결제 |
| **입금 이체** (WBS) | 모계좌 -> 고객 계좌 | 결제 취소 (환불) |




---




## CMS : 출금 이체

- CMS 결제는 단건 결제와 자동 결제 두 가지 방식 모두 **계좌를 등록해두고 나중에 결제할 때 계속 재사용할 수 있음**
    - 계좌 인증과 출금 동의 과정을 통해 계좌를 미리 등록해두고, 이후에 자동으로 출금하는 방식으로 결제가 이루어짐


### CMS 계좌 등록을 위한 출금 동의 증빙 서류 제출

- CMS 자동 결제를 위해 계좌를 등록할 때, **출금 동의 증빙 서류**를 제출해야 함

- 출금 동의 증빙 서류는 ARS 음성 녹음, 지류 등으로 다양한 형식이 있음

#### KSNET CMS의 개인 계좌와 법인 계좌의 서류 제출 방식 차이

- KSNET CMS의 경우, 개인 사업장과 법인 사업장은 출금 동의 증빙 서류를 받는 방식이 다름

| 종류 | 인증 방식 | 1회 인증 비용 |
| --- | --- | --- |
| **개인** | ARS 인증 | 35원 |
| **법인** | 1원 인증 | 50원 |

- 개인 사업장과 법인 사업장의 인증 방식을 1원 인증으로 통일해도 상관없지만, 법인 사업장에만 1원 인증 방식을 사용함
    - 개인 사업장은 휴대 전화를 이용한 ARS 인증을 할 수 있지만, 법인 사업장은 불가능합
    - 1원 인증의 회당 비용이 더 비싸기 때문에, 법인 사업장에만 1원 인증 방식을 사용함





---




## WBS : 입금 이체

- 페이민트에서 WBS 결제는 현재 "스피드"와 "미트프렌즈"에서만 사용하고 있음
    - 두 service 모두 고객 계좌로 금액을 환불해주기 위해 사용함


### `wbs` Table : WBS 결제 원장

- WBS 결제는 `payment_ledger` table에 결제 정보를 저장하지 않고, `wbs` table에 따로 저장함
    - WBS 결제는 고객이 결제하는 것도 아니고 원거래를 취소하는 것도 아닌, **기업이 고객에게 돈을 주는 반대 방향의 거래**이기 때문에, `payment_ledger` table에 넣을 수 없음
    - 그래서 `wbs` 거래 건만을 저장하는 table을 따로 만들어 관리하고 있음


### `wbs_config` Table : WBS 결제를 위한 기업의 모계좌 정보

```sql
select * from wbs_config;
```

- WBS 거래에는 기업 모계좌의 정보가 필요하기 때문에, `wbs_config` table에 따로 저장하고 있음
    - `cms` table에 고객의 계좌 정보를 저장하는 것과 같음

- 따라서 WBS 결제를 할 땐, 기업 모계좌와 고객의 계좌 정보 모두가 필요하기 때문에 `wbs_config` table(모계좌)와 `cms` table(고객 계좌)을 모두 조회함