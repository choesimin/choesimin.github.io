---
layout: pt
---



# Adapter Pattern



![Adapter Pattern](https://refactoring.guru/images/patterns/content/adapter/adapter-ko.png)




---



## ì„œë¡œ ë‹¤ë¥¸ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê°€ì§€ëŠ” ë‘ ê°ì²´ë¥¼ ì—°ê²°

```mermaid
flowchart LR

client{Client}
adapter>Adapter]
adaptee[Adaptee]

client -.-x|ìš”ì²­ ë¶ˆê°€ëŠ¥ - í˜¸í™˜ë˜ì§€ ì•ŠìŒ| adaptee

client -->|ìš”ì²­| adapter
adapter -->|í˜¸í™˜ ì‘ì—…| adapter
adapter -->|ë³€í™˜ëœ ìš”ì²­| adaptee
```



---



## Adapter ë™ì‘ ìˆœì„œ


```mermaid
sequenceDiagram

actor Client
participant Adapter
participant Adaptee

Note right of Client : Target interfaceë¡œ Adapter í˜¸ì¶œ
Client ->> Adapter : request()

activate Client
activate Adapter
Adapter ->> Adaptee : specificRequest()
activate Adaptee
Adaptee -->> Adapter : return
deactivate Adaptee
Adapter -->> Client : return
deactivate Adapter
deactivate Client
```

- `Client` : Adapteeì˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë ¤ëŠ” ì£¼ì²´
- `Target` : Clientê°€ ì ‘ê·¼í•´ì„œ ì‚¬ìš©í•  ê³ ìˆ˜ì¤€ì˜ Adapter Module
- `Adapter` : Clientì™€ Adaptee ì‚¬ì´ì—ì„œ ì‹¤ì§ˆì ì¸ í˜¸í™˜ ì‘ì—…ì„ ë§¡ëŠ” ê°ì²´
- `Adaptee` : Clientê°€ ìµœì¢…ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê³ ì í•˜ëŠ” ì„œë¹„ìŠ¤ì´ì Adapterì˜ í˜¸í™˜ ì‘ì—… ëŒ€ìƒ




---




## Object Adapter : í•©ì„±ì„ ì´ìš©í•´ êµ¬í˜„í•œ Adapter

```mermaid
classDiagram

class Client

class Target {
    <<interface>>
    +request(data)
}

class Adapter {
    -adaptee : Adaptee
    +request(data)
}

class Adaptee {
    +specificRequest(specificData)
}

Client --> Target
Target <|.. Adapter
Adapter --> Adaptee

note for Adapter "specificData = convertToSpecificFormat(data);\nreturn adaptee.specificRequest(specificData);"
```

```java
class Client {
    public static void main(String[] args) {
        Target adapter = new Adapter(new Adaptee());    // Adapteeë¥¼ ì¸ìë¡œ ë°›ì•„ í˜¸í™˜ ì‘ì—…ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.
        adapter.request(1);    // Target interfaceì˜ ëª…ì„¸ì— ë”°ë¼ methodë¥¼ í˜¸ì¶œí•˜ì—¬ Adapteeë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
    }
}
```

```java
interface Target {
    void request(int data);    // ClientëŠ” Adapteeë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ì´ methodì— ì ‘ê·¼í•©ë‹ˆë‹¤.
}
```

```java
class Adapter implements Target {
    Adaptee adaptee;    // Adaptee ê°ì²´ë¥¼ class fieldë¡œ í•©ì„±(composition)í•©ë‹ˆë‹¤.

    Adapter(Adaptee adaptee) {
        this.adaptee = adaptee;    // Adapterë¥¼ ìƒì„±í•  ë•Œ í˜¸í™˜ì‹œí‚¬ ê¸°ì¡´ ì„œë¹„ìŠ¤ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.
    }

    public void request(int data) {
        adaptee.specificRequest(data);    // Adapterì˜ methodê°€ í˜¸ì¶œë˜ë©´, Adapteeì˜ methodë¥¼ í˜¸ì¶œí•˜ë„ë¡ ìœ„ì„í•©ë‹ˆë‹¤.
    }
}
```

```java
class Adaptee {
    void specificRequest(int specificData) {
        System.out.println("Process Adaptee service with " + specificData);
    }
}
```



---



## Class Adapter : ìƒì†ì„ ì´ìš©í•´ êµ¬í˜„í•œ Adapter

```mermaid
classDiagram

class Client

class Target {
    +request(data)
}

class Adapter {
    +request(data)
}

class Adaptee {
    +specificRequest(specificData)
}

Client --> Target
Target <|-- Adapter
Adapter --|> Adaptee

note for Adapter "specificData = convertToSpecificFormat(data);\nreturn specificRequest(specificData);"
```


```java
class Client {
    public static void main(String[] args) {
        Target adapter = new Adapter();    // Object Adapterì™€ ë‹¬ë¦¬ Adapteeë¥¼ ì¸ìë¡œ ë°›ì„ í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.
        adapter.request(1);
    }
}
```

```java
interface Target {
    void request(int data);
}
```

```java
class Adapter extends Adaptee implements Target {
    public void request(int data) {
        specificRequest(data);    // Adapterì˜ methodê°€ í˜¸ì¶œë˜ë©´, ìƒì†ë°›ì€ ë¶€ëª¨ classì¸ Adapteeì˜ methodë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.
    }
}
```

```java
class Adaptee {
    void specificRequest(int specificData) {
        System.out.println("Process Adaptee service with " + specificData);
    }
}
```




---




## Adapter Pattern Example : Java InputStreamReader


```java
// Client Code
BufferedReader br = new BufferedReader(new InputStreamReader(System.in));

// BufferedReaderì˜ ìƒì„±ì parameterëŠ” Reader
public BufferedReader(Reader in) {
    this(in, defaultCharBufferSize);
}

// System.inê°€ ë°˜í™˜í•˜ëŠ” ìë£Œí˜•ì€ InputStream
public final static InputStream in = null;
```

```mermaid
classDiagram

class Readable {
    <<interface>>
}
class Reader {
    <<abstract>>
}
class BufferedReader
class InputStreamReader
class System

Readable <|.. Reader
Reader <|-- BufferedReader : extends
Reader <|-- InputStreamReader : extends
InputStreamReader --> System
```










---
---









# Facade Pattern

![Facade Pattern](https://refactoring.guru/images/patterns/content/facade/facade.png)




---



## ë³µì¡í•œ ì‹œìŠ¤í…œì— ëŒ€í•œ ë‹¨ìˆœí•œ ì¸í„°í˜ì´ìŠ¤ ì œê³µ


```mermaid
classDiagram

Client --> Facade
Facade --> SubSystem1
Facade --> SubSystem2
Facade --> SubSystem3
Facade --> SubSystem4
Facade --> SubSystem5
```

- `Facade` : ë” ì‚¬ìš©í•˜ê¸° í¸í•œ í†µí•© ì¸í„°í˜ì´ìŠ¤
- `SubSystem` : ë³µì¡í•œ í•˜ìœ„ ì‹œìŠ¤í…œ




---




## Example : File Reader


```mermaid
classDiagram

class Main {
    main(Stirng []) void
}

class FileFacade {
    readFile(String) String
    writeFile(String, String) void
}

Main --> FileFacade
FileFacade --> BufferedReader
FileFacade --> FileReader
FileFacade --> BufferedWriter
FileFacade --> FileWriter
FileFacade --> StringBuilder
```


### Facade

```java
class FileFacade {
    public String readFile(String fileName) {
        try (BufferedReader reader = new BufferedReader(new FileReader(fileName))) {
            StringBuilder stringBuilder = new StringBuilder();
            String line = null;
            while ((line = reader.readLine()) != null) {
                stringBuilder.append(line);
                stringBuilder.append(System.lineSeparator());
            }
            return stringBuilder.toString();
        } catch (IOException e) {
            e.printStackTrace();
            return null;
        }
    }

    public void writeFile(String fileName, String content) {
        try (BufferedWriter writer = new BufferedWriter(new FileWriter(fileName))) {
            writer.write(content);
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
```


### Client

```java
public class Main {
    public static void main(String[] args) {
        FileFacade fileFacade = new FileFacade();
        String fileName = "test.txt";
        String content = "Hello, World!";

        // íŒŒì¼ ì“°ê¸°
        fileFacade.writeFile(fileName, content);

        // íŒŒì¼ ì½ê¸°
        String readContent = fileFacade.readFile(fileName);
        System.out.println(readContent);
    }
}
```




---





## Adapter Pattern & Facade pattern & Decorator Pattern

>ê°ì²´ë¥¼ ê°ì‹¸ì„œ í˜¸í™˜ë˜ì§€ ì•ŠëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ Clientê°€ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.


### Adapter Pattern : ì¸í„°í˜ì´ìŠ¤ë¥¼ ë‹¤ë¥¸ ì¸í„°í˜ì´ìŠ¤ë¡œ ë³€í™˜


### Facade pattern : ì¸í„°í˜ì´ìŠ¤ë¥¼ ë‹¨ìˆœí•˜ê²Œ ë°”ê¿ˆ


### Decorator Pattern : ì¸í„°í˜ì´ìŠ¤ëŠ” ë°”ê¾¸ì§€ ì•Šê³  ê¸°ëŠ¥ë§Œ ì¶”ê°€




---




# Reference

- Head First Design Patterns - Eric Freeman, Elisabeth Robson, Bert Bates, Kathy Sierra
- <https://inpa.tistory.com/entry/GOF-ğŸ’ -ì–´ëŒ‘í„°Adaptor-íŒ¨í„´-ì œëŒ€ë¡œ-ë°°ì›Œë³´ì>
- <https://yaboong.github.io/design-pattern/2018/10/15/adapter-pattern>
- <https://refactoring.guru/ko/design-patterns/adapter>
- <https://shan0325.tistory.com/23>



